<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes Universe Classes Classes Universe × Search results Close Documentation generated by JSDoc 3.6.10 on 2022-02-20T17:01:05-05:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes Universe node-pick-universe This is an extremely immature package and really more of a learning excersise than anything else. The goal was to be able to call universe subroutines from node and this does work. There are probably a variety of issues that I still need to take a look at but I posted this here so people can get an idea of how to marry node and universe together. Build Instructions You'll most likely need to build this package from source. Requirements a compiler that can compile C++17. (Which on rhel 7 was a bit of a pain to set up.) node-gyp libffi headers (libffi-devel on rhel or libffi-dev on ubuntu) libuvic and intcall.h to use intercall (I've included these in the repo) There are two libraries that are needed, libuvic and libffi. libuvic is provided by Rocket and I've added that to the lib folder in this repo. Once you have these things, you can then run the following commands to build the addon. &gt; git clone git@github.com:Krowemoh/node-pick-universe.git &gt; cd node-pick-universe &gt; npm install &gt; node-gyp configure build Good luck! Installation Instructions Once the addon is built, you can copy the build/Release/universe-native.node file to wherever you want and simply require it in a javascript file to begin calling universe subroutines. You can test this library by using the index.js provided. One the BASIC side, you have a program called TEST.NIV which contains: SUBROUTINE TEST.NIV(ARG1, ARG2, ARG3, ARG4, ARG5) ARG1 = \"ZERO\" : @SVM : \"ATTR1\" ARG2 = \"ONE\" ARG3 = \"TWO\" ARG4 = \"THREE\" ARG5 = \"FOUR\" API This is straightforward translation of how the intercall library works. StartSession This function will start a universe session, if it can't, it will throw an error. The session id can be used in SetSession to change which session is currently active. const session_id = universe.StartSession(); EndSession This will close the current session and release any locks that are active. universe.EndSession(); Open This will return a file handler if the file exists, otherwise it will throw an error. const INVENTORY_FILE = universe.Open(\"INVENTORY-FILE\"); Close This function will close and release any locks associated with the file handler. universe.Close(INVENTORY_FILE); Select Select requires a file id to select, and it takes in a list number so you can save things to different lists. universe.Select(FILE_IDENTIFIER_FILE); // universe.Select(FILE_IDENTIFIER_FILE, 2); ReadNext ReadNext will by default read in the 0th list but passing in a number will use that list if it exists. A null is returned when the list empty. let record = universe.ReadNext(); Read Read in an entire record by giving an ID and a file handler. const x = universe.Read(\"ITEM.ID\", INVENTORY_FILE); Write Write a record to universe, this is a string with the control characters. I wrote the pick-mv library to help manipulate multivalue in javascript. const mv = require(\"pick-mv\"); var arg = [\"0\", \"1\"]; universe.Write(mv.ArrayToMV(arg), CONTROL_FILE, \"NIVETHAN\"); × Search results Close Documentation generated by JSDoc 3.6.10 on 2022-02-20T17:01:05-05:00 using the DocStrap template. "},"Universe.html":{"id":"Universe.html","title":"Class: Universe","body":" Documentation Classes Universe Class: Universe Universe Class for all the universe functions new Universe(hostname, username, password, account) Create a Universe object. Parameters: Name Type Description hostname string Hostname or ip address for the universe server. username string Username to use to log in. password string Password to use to log in. account string Account to log in to. Methods CallSubroutine(subroutine, args) Call a cataloged subroutine. Parameters: Name Type Argument Description subroutine string The name of the subroutine. args args &lt;repeatable&gt; The arguments to be passed to the subroutine. Returns: The args are returned with their changes. Type array ClearData() Flushes data loaded by the Data function.. ClearFile(file) Clears a file of all its records. Parameters: Name Type Description file number The file id to be cleared. ClearSelect( [listNumber]) Clears an active list. Parameters: Name Type Argument Default Description listNumber number &lt;optional&gt; 0 The list to be cleared. Close(file) Closes an open file. This will also release all locks for the file that this user has. Parameters: Name Type Description file number The file id to be closed. ContinueExecution(input) Continue an execute that requested input. Parameters: Name Type Description input string The input to be used to continue executing a command. Data(str) Load a string into the input stack. This will be used by input statements in a BASIC program. Parameters: Name Type Description str number The string to be added to the queue. Date() Get the server system date in internal format. Returns: Days since Dec 31 1967. Type number Delete(record_id, file) Delete a record from an open file. Parameters: Name Type Description record_id string The id of the record you want to delete. file string The file you want to delete from. DeleteField(str [, field] [, value] [, subvalue]) Delete a value based on field, value and/or subvalue. Parameters: Name Type Argument Default Description str string The string you want to delete from. field number &lt;optional&gt; 0 The field position. value number &lt;optional&gt; 0 The value position. subvalue number &lt;optional&gt; 0 The subvalue position. Returns: The new string after removal. Type string EndAllSessions() End all sessions. EndSession() End the current session. Execute(command) Execute a database command. Parameters: Name Type Description command string The command to execute on the database. Returns: The output of the command is returned. Type string Extract(str [, field] [, value] [, subvalue]) Extract a field, value or subvalue from a string. Parameters: Name Type Argument Default Description str string The string that you want to extract from. field number &lt;optional&gt; 0 The field to extract from. value number &lt;optional&gt; 0 The value to extract from. subvalue number &lt;optional&gt; 0 The subvalue to extract from. Returns: The substring that was extracted. Type string FileInfo(file [, key]) Get information about an open file. Parameters: Name Type Argument Default Description file number The file you want to get information on. key number &lt;optional&gt; 0 The information you wish to get. Returns: The information requested. Type string FileLock(file) Lock an open file. Parameters: Name Type Description file number The file you want to lock. FileUnlock(file) Unlock a locked file. Parameters: Name Type Description file number The file you want to unlock. Format(str, format) Format a string. Parameters: Name Type Description str string The string to be formatted. format string The format to be used. FormList(list [, slot]) Create a select list from a list of ids. Parameters: Name Type Argument Default Description list string List of record ids. slot number &lt;optional&gt; 0 The slot to load the select into. GetList(name [, slot]) Get a list and load it to an active list slot. Parameters: Name Type Argument Default Description name string The name of the list to restore. slot number &lt;optional&gt; 0 The slot to load the restored list into. GetValue( [key]) Get the value of a system variable. Parameters: Name Type Argument Default Description key number &lt;optional&gt; 0 The system variable to read. ICONV(str, conv) Convert a string to an internal format using the conversion. Parameters: Name Type Description str string The string to convert. conv string The conversion code. Returns: The converted string. Type string Indices(file [, index]) Get information about an index on an open file. Parameters: Name Type Argument Default Description file number The file to check. index string &lt;optional&gt; \"\" The index to get information about, if this is blank, all indices will be returned. Insert(str, substring [, field] [, value] [, subvalue]) Insert a substring into a string specified by the field, value and/or subvalue. Parameters: Name Type Argument Default Description str string The string to insert into. substring string The substring to be inserted. field number &lt;optional&gt; 0 The field position. value number &lt;optional&gt; 0 The value position. subvalue number &lt;optional&gt; 0 The subvalue position. Returns: The new string after insertion. Type string IsAlpha(str) Determines if a string is alphabetic. Parameters: Name Type Description str string String to be tested. Returns: True or false if the string is alphabetic. Type boolean Locate(needle, haystack, order [, start] [, field] [, value] [, subvalue]) Search a dynamic array for a string. Parameters: Name Type Argument Default Description needle string The search string. haystack string The array to search in. order string The ordering of the array. start number &lt;optional&gt; 1 The position to start searching from. field number &lt;optional&gt; 0 The field position. value number &lt;optional&gt; 0 The value position. subvalue number &lt;optional&gt; 0 The subvalue position. Lock(lock) Set a semaphore or public process lock. There are 0 - 63 locks available. Parameters: Name Type Description lock number The lock number. Lower(str) Convert delimiters to the next lower delimiter. Parameters: Name Type Description str string The string to convert. Returns: The converted string. Type string OCONV(str, conv) Convert a string to an external format using the conversion. Parameters: Name Type Description str string The string to convert. conv string The conversion code. Returns: The converted string. Type string Open(filename) Open a file in the database. Parameters: Name Type Description filename string The name of the file to open. Returns: The file handler. Type number Raise(str) Convert delimiters to the next higher delimiter. Parameters: Name Type Description str string The string to convert. Returns: The converted string. Type string Read(id, file) Read a record from an open file. Parameters: Name Type Description id string The id of the record. file number The file handler returned by a previous open. Returns: The record that was read in. Type string ReadList( [slot]) Convert an active list into a list of ids. Parameters: Name Type Argument Default Description slot number &lt;optional&gt; 0 The select list slot number to read from. Returns: A list of ids. Type string ReadNext( [slot]) Read the next id from an active list. Parameters: Name Type Argument Default Description slot number &lt;optional&gt; 0 The select list slot number to read from. Returns: An id. Type string ReadValue(id, field, file) Read a specific value from a record. Parameters: Name Type Description id string The id of the record. field number The field to read from. file number The file to read from. Returns: The value that was read. Type string RecordLock(id, file) Lock a record in an open file. Parameters: Name Type Description id string The id of the record to lock. file number The file the record is in. RecordLocked(id, file) Check what the lock status is of a record. Parameters: Name Type Description id string The id of the record to check. file number The file the record is in. Returns: The lock status. Type number Release(id, file) Release any locks on a record. Parameters: Name Type Description id string The id of the record to release. file number The file the record is in. Replace(str, substring [, field] [, value] [, subvalue]) Replace a value specified by field, value and subvalue with a substring. Parameters: Name Type Argument Default Description str string The string to do the replacement in. substring string The replacement substring. field number &lt;optional&gt; 0 The field position. value number &lt;optional&gt; 0 The value position. subvalue number &lt;optional&gt; 0 The subvalue position. RunIType(record_id, filename, itype) Execute a I type dictionary item on a record. I types allow for subroutines to run on records from a dictionary. Parameters: Name Type Description record_id string The id of the record you want to use. filename string The name of the file you want to read the record from. itype string The name of the I type record in the dictionary. Returns: The value generated by the I type. Type string Select(file [, slot]) Create a list of all record ids from an open file and place it in an list slot. Parameters: Name Type Argument Default Description file number The file to select. slot number &lt;optional&gt; 0 The list slot number to place the ids in. SelectIndex(index, value, file) Create a list using an index. Parameters: Name Type Description index number The index to use. value string The value of the index, this is what will be checked when selecting record ids. file number The file to select from. SessionInfo(key) Get information about the current session. Parameters: Name Type Description key number The information being requested. Returns: The information requested. Type string SetSession(session) Change the universe session. Parameters: Name Type Description session number The session id to switch to. SetTimeout(timeout) Set the timeout for the RPC port in seconds. The default is 24 hours. Parameters: Name Type Description timeout number The timeout in seconds. SetValue(key, value) Set the value of a system variable. Currently only 7 is available. Parameters: Name Type Default Description key number 7 The system variable to set. value string The value to set the system variable to. StartSession() Start a universe session. Returns: The session id is returned and can be used in changing sessions. Type number Time() Get the server time in internal format. Internal format is seconds since midnight. TimeDate() Get the time and date as hh:mm:ss dd mmm yyyy. Trans(id, filename [, field]) Read a record in without opening a file. Parameters: Name Type Argument Default Description id string The id of the record to be read in. filename string The name of the file to be read. field number &lt;optional&gt; -1 The field to be read in, -1 will read in the entire record. Returns: The value or record being requested. Type string Unlock(lock) Unlock a semaphore(pulic process) lock. Parameters: Name Type Description lock number The lock number to release. Write(record, id, file) Write a record to a file. Parameters: Name Type Description record string The record to write. id string The id of the record. file number The file to write to. WriteValue(str, id, field, file) Write a value to a file. Parameters: Name Type Description str string The value to write. id string The id of the record. field number TThe field to write to. file number The file to write to. × Search results Close Documentation generated by JSDoc 3.6.10 on 2022-02-20T17:01:05-05:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
